### chapter5：操作符和表达式

#### 操作符

##### 算术操作符

+，-，*，/，%

##### 移位操作符

操作数必须为整数

逻辑移位：左边移入的位使用0进行填充

算数移位：左边移入的位由原先该值的符号位决定

逻辑左移和算数左移相同；当操作数为负数时，逻辑右移与算数右移不同。

左移位操作数：<<

右移位操作数：>>

无符号数的移位均为逻辑移位；有符号数的移位操作取决于编译器

**一个小的代码示例**：计算一个无符号整型数值为1的位数的个数

```c
int count_one_number(int number){
    int count = 0;
    for (count;number!=0;number = number>>1){
        if (number % 2 == 0){
            count += 1;
        }
    }
    return count;
}
```

##### 位操作符

AND: &
OR: |

XOR: ^

操作数必须为整型数

将指定位置的值设置为1：value = value | 1 << bit_number

将指定位置的值设置为0：value = value & ~(1 << bit_number)

对指定位置的值进行测试：value & 1 << bit_number

##### 赋值

复合赋值符：+=；-=；*=；/=；%=；<<=；>>=；&=；^=；|=

##### 单目运算符

sizeof()：sizeof( int ) or sizeof( x )

强制类型转换：(float) a

##### 关系操作符

大于，小于，大于等于，小于等于，等于，不等于……

##### 逻辑操作符

&& 和 ||

##### 条件操作符

expression1？expression2：expression3

##### 逗号操作符

逗号操作符将两个或者多个表达式分隔开来，这些表达式自左向右逐个求值，最后一个表达式的值就是整个逗号表达式的值。

#### 布尔值

零为假，其余非零值均为真。

使用bool变量定义：

`#define TRUE 1`

`#define FALSE 0`

#### 左值和右值

左值：标示内存中一个特定的位置的标识。
右值：不能标示内存中一个特定的位置的标识。
左值意味一个位置，右值意味一个值，在使用右值的地方也可以使用左值，在需要左值的地方不可以使用右值。

#### 表达式求值

优先级：指针最优，单目运算符优于双目运算符

先算数运算，后移位运算，最后位运算（1<<3+2&7等价于（1<<(3+2)）&7）

逻辑运算最后结合

简单记就是：！ > 算术运算符 > 关系运算符 > && > || > 赋值运算符

